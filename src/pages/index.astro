---
import Layout from '../layouts/Layout.astro';
import {
	SignedIn,
	SignedOut,
	SignInButton,
	UserButton,
} from "@clerk/astro/components"
---
<Layout>
	<main class="max-w-6xl mx-auto px-6 py-5 font-retro space-y-22">
		<!-- HERO SECTION -->
		<section class="text-center relative bg-gradient-to-b from-nebula-black via-emerald-950/30 to-nebula-black py-20 rounded-lg shadow-inner">
			<img style="z-index: 0" src="/assets/img/logo.webp" alt="Starship Chronicle Logo" class="logo mx-auto w-48 h-48 mb-2 animate-grow [animation-timeline:scroll()]" />

			<h1 class="text-5xl md:text-6xl font-retro text-crt-green tracking-wide drop-shadow-lg mb-4">
				Starship Chronicle
			</h1>

			<p class="text-white/70 font-doto text-lg md:text-xl max-w-3xl mx-auto mb-10 z-10">
				Una odisea espacial con esencia retro. Comanda tu nave. Explora sistemas desconocidos. Gana fama o muere en el intento.
			</p>
			<div class="flex flex-col sm:flex-row justify-center gap-6">
				<SignedOut>
					<SignInButton mode="modal" class="px-6 py-3 bg-crt-green text-black text-lg font-bold border border-crt-green hover:bg-transparent hover:text-crt-green transition">
						🚀 Inicia Sesión
					</SignInButton>

					<a href="/demo" class="px-6 py-3 bg-nebula-black text-crt-green border border-crt-green text-lg font-bold hover:bg-crt-green hover:text-black transition">
						🧪 Probar Demo
					</a>
				</SignedOut>
				<SignedIn>
					<a href="/juego" class="px-6 py-3 bg-crt-green text-black text-lg font-bold border border-crt-green hover:bg-transparent hover:text-crt-green transition">
						🚀 Jugar
					</a>
				</SignedIn>
			</div>
			<div class="absolute -bottom-10 left-1/2 transform -translate-x-1/2 flex flex-col animate-pulse z-40">
				<span class="animate-bounce text-crt-green text-2xl block">↓</span>
				<small class="font-doto text-crt-green block">Scroll</small>
			</div>
		</section>

		<section class="mx-auto h-96 overflow-y-scroll bg-cover bg-fixed bg-center bg-no-repeat shadow-lg flex items-center"
				 style={`background-image:url('/assets/img/cover-no-text.webp')`}
		>

			<!-- FEATURE SECTION -->
			<div class="bg-purple-950/55 backdrop-blur-xs h-full  p-10 flex items-center">
				<div>

					<h2 class="text-3xl font-retro text-crt-green text-center mb-10">
						<span class="animate-blink">></span>¿Qué te espera?
					</h2>
					<ul class="grid md:grid-cols-2 gap-8 font-doto text-white/80">
						<li><span class="text-crt-green">▸</span> Navegación estratégica por sistemas galácticos.</li>
						<li><span class="text-crt-green">▸</span> Combate táctico contra naves enemigas.</li>
						<li><span class="text-crt-green">▸</span> Comercio dinámico entre planetas.</li>
						<li><span class="text-crt-green">▸</span> Sistema de reputación y misiones con consecuencias.</li>
					</ul>
				</div>
			</div>
		</section>


		<!-- HOW TO PLAY SECTION -->
		<section class="bg-gradient-to-r from-nebula-black via-emerald-950/20 to-nebula-black py-16 px-6">
			<h2 class="text-3xl font-retro text-crt-green text-center mb-12">
				<span class="animate-blink">></span>Instrucciones de vuelo
			</h2>
			<div class="grid md:grid-cols-3 gap-8">
				<div class="bg-black border border-crt-green/20 p-6 rounded shadow group">
					<h3 class="text-lg font-doto text-crt-green mb-2">1. EXPLORA</h3>
					<p class="text-white/70 text-sm mb-4 font-doto">Escanea planetas, administra combustible y elige rutas seguras en una galaxia procedural.</p>
					<img src="/assets/img/galaxy.webp" alt="Explora la galaxia" class="bg-gradient-to-br from-nebula-black via-emerald-950 to-nebula-black group-hover:brightness-150" />
				</div>
				<div class="bg-black border border-crt-green/20 p-6 rounded shadow group">
					<h3 class="text-lg font-doto text-crt-green mb-2">2. ACEPTA MISIONES</h3>
					<p class="text-white/70 text-sm mb-4 font-doto">Entrega mercancía, acepta encargos dudosos o rescata colonos en peligro.</p>
					<img src="/assets/img/missions.webp" alt="Misiones" class="group-hover:brightness-150"/>
				</div>
				<div class="bg-black border border-crt-green/20 p-6 rounded shadow group">
					<h3 class="text-lg font-doto text-crt-green mb-2">3. SOBREVIVE</h3>
					<p class="text-white/70 text-sm mb-4 font-doto">Invierte en mejoras, esquiva eventos fatales y supera los desafíos estelares.</p>
					<img src="/assets/img/combats.webp" alt="Combate" class="rounded border border-crt-green/10 group-hover:brightness-150" />
				</div>
			</div>
		</section>


		<!-- STEP-BY-STEP TUTORIAL -->
		<section class="bg-gradient-to-b from-nebula-black via-emerald-900/20 to-nebula-black py-16 px-6">
			<h2 class="text-3xl font-retro text-crt-green text-center mb-12">
				<span class="animate-blink">></span>Tutorial de vuelo estelar
			</h2>

			<div class="grid md:grid-cols-2 gap-10 max-w-5xl mx-auto font-doto text-white/80 text-base leading-relaxed">
				<div class="space-y-6">
					<div>
						<h3 class="text-crt-green font-bold mb-1">🪐 Empieza sin rumbo fijo</h3>
						<p>Tu nave se encuentra sin planeta asignado. Usa el escáner para identificar planetas cercanos accesibles con el combustible actual.</p>
					</div>

					<div>
						<h3 class="text-crt-green font-bold mb-1">🚀 Elige tu próximo destino</h3>
						<p>Selecciona un planeta dentro de tu alcance. El viaje consumirá combustible y te enfrentará a eventos aleatorios: tormentas, restos espaciales o incluso piratas.</p>
					</div>

					<div>
						<h3 class="text-crt-green font-bold mb-1">🧩 Resuelve eventos en ruta</h3>
						<p>Cada unidad de distancia implica un evento. Toma decisiones tácticas: huir, combatir, absorber daño o simplemente aprovechar oportunidades.</p>
					</div>
				</div>

				<div class="space-y-6">
					<div>
						<h3 class="text-crt-green font-bold mb-1">📦 Gestiona tu carga</h3>
						<p>Compra bienes con créditos, véndelos para obtener beneficios o complétalos como requisitos de misión. Tu nave tiene espacio limitado, ¡adminístralo bien!</p>
					</div>

					<div>
						<h3 class="text-crt-green font-bold mb-1">📜 Acepta una misión</h3>
						<p>Desde tráfico encubierto hasta rescates de emergencia. Una sola misión activa por vez. Abandonar misiones reduce tu fama.</p>
					</div>

					<div>
						<h3 class="text-crt-green font-bold mb-1">🌟 Gana fama... o muere</h3>
						<p>Alcanza 6 puntos de Fama y serás reconocido como leyenda galáctica. Pero si tu nave explota o el Renegado gana fama antes... será tu final.</p>
					</div>
				</div>
			</div>
		</section>



		<section class="bg-black border border-dashed border-crt-green/30 p-10 rounded-lg shadow-md">
			<h2 class="text-3xl font-retro text-crt-green text-center mb-10">
				<span class="animate-blink">></span>Inspirado en New Frontier
			</h2>
			<div class="flex flex-col md:flex-row items-center gap-10">
				<img src="/assets/img/original-game.webp" alt="New Frontier (2020)" class="w-full md:w-1/3 rounded border border-crt-green/20 shadow" />
				<div class="text-white/80 font-doto text-base space-y-4 text-left">
					<p>
						<em>Starship Chronicle</em> está inspirado en <strong>New Frontier (2020)</strong>, un juego de cartas print & play que fue finalista en el concurso de diseño de juegos de 9 cartas de BoardGameGeek.
					</p>
					<p>
						Este pequeño pero brillante juego de estrategia compacta sentó las bases para una experiencia espacial ampliada y digital.
					</p>
					<p>
						Puedes descubrir el juego original en su ficha de BGG:
						<a href="https://boardgamegeek.com/thread/2352639/wip-new-frontier-2020-9-card-game-pnp-design-conte" target="_blank" class="text-crt-green underline">Visitar en BoardGameGeek →</a>
					</p>
				</div>
			</div>
		</section>

		<!-- ABOUT THE AUTHOR SECTION -->
		<section class="bg-nebula-black overflow-hidden rounded-xl">
			<div class="flex flex-col md:flex-row items-center justify-between">

				<div class="max-w-xl text-white/80 text-left font-doto w-full lg:w-3/5 p-10">

					<h2 class="text-xl font-retro text-crt-green mb-10">
						<span class="animate-blink">></span>El comandante detrás del proyecto
					</h2>
					<p class="mb-3">
						<strong class="text-crt-green">Daniel Villodres</strong> desarrollador web.
					</p>
					<p>
						Este juego nace como tributo a los títulos clásicos de exploración galáctica. Creado para la hackathon de Midudev + Clerk, <strong>Starship Chronicle</strong> es una aventura donde diseño, estrategia y nostalgia convergen. Si quieres saber más sobre mi, me tienes en <a href="https://d-v.es" class="text-crt-green underline" target="_blank">d-v.es</a>.
					</p>
				</div>
				<img src="/assets/img/daniel.webp" alt="Daniel Villodres" class="w-full lg:w-2/5 h-fit object-cover shadow-md" />

			</div>
		</section>
	</main>

	<button id="scrollToTopBtn" class="fixed bottom-4 right-4 z-50 w-18 h-18 rounded-full shadow-md  cursor-pointer hover:opacity-80 opacity-0 pointer-events-none transition-opacity duration-300">
		<img src="/assets/img/icons/go-up.webp" alt="Subir" class="w-full h-full object-contain animate-[jiggle_2s_ease-in-out_infinite]" />
	</button>

</Layout>

<script>
	const scrollToTopBtn = document.getElementById("scrollToTopBtn");

	window.addEventListener("scroll", () => {
		if (window.scrollY > 300) {
			scrollToTopBtn.classList.add("opacity-100");
			scrollToTopBtn.classList.remove("opacity-0", "pointer-events-none");
		} else {
			scrollToTopBtn.classList.remove("opacity-100");
			scrollToTopBtn.classList.add("opacity-0", "pointer-events-none");
		}
	});

	scrollToTopBtn.addEventListener("click", () => {
		window.scrollTo({
			top: 0,
			behavior: "smooth"
		});
	});
</script>

